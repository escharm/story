# Story 工具开发计划

## 项目概述

Story 是一个 Vite 的插件。提供以下核心功能：

1. 以文件树形式，访问项目文件
2. 支持对预览的组件进行元素更改，调整。

## 开发阶段

### 阶段一：基础架构搭建

- [x] 基于 fastify 实现 HTTP 服务器
- [x] 使用 vite 启动 HTTP 服务器
- [x] 配置开发环境（TypeScript、ESLint、Prettier 等）

### 阶段二：开发服务器实现

- [x] 支持静态资源服务
- [x] 实现动态组件加载

### 阶段三：story 基础

- [x] 实现侧边栏
- [x] 点击交互
- [x] 拖拽交互
- [x] 双击交互

### 阶段四：story 动态加载数据

- [x] 添加 stories 侧边栏
  - 无参数时，展开状态
  - 有参数时，收起状态
- [x] 点击 stories 侧边栏具体项，跳转到 story
- [x] 使用 server 能力加载 story 数据
- [x] 关闭 hot reload

### 阶段五：交互数据应用

- [x] 交互后元素变化
- [x] 背景板
- [x] 展示容器，用于调整 100% 宽高组件的展示效果
- [] 数据写回代码

  - [x] style panel 添加一个保存按钮
  - [x] tailwindcss 编译
  - [x] 挂载编译后样式
  - [] 保存按钮点击后打开差异弹窗
    - [] 差异窗口可以编辑代码

- [x] 面板组件更新

  - [x] 交互过的面板显示在最上层

- [x] 加入画板模式

  - [x] 画板模式下，可以使用交互快速编辑，但不会被应用到源码

- [] 加入预览模式
  - [] 预览模式下，组件点击不会被阻拦

### 阶段六：整理

- [x] 数据结构整理，移除非必要结构
- [] 数据流程整理

  - [x] 数据初始化
  - [x] tailwindcss 初始化
  - [] styledContainer 需要从 StoryProvider 中分离
  - [] story 创建

- 页面结构设计
  - [] 面板调整
  - [] 功能块切分
    - 左上角，组件树
    - 右上角，属性面板
    - 左下角，文件树
    - 右下角
    - 顶部中间，工具栏
  - [] 右键菜单
